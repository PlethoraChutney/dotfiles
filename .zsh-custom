include () {
  [[ -f ${1} ]] && source ${1}
}

# ssh commands
alias troll="ssh -Y posert@troll.ohsu.edu"
# still want the -X in these background jobs because
# if we open a persistent tunnel, we need to be able to forward
# X over it for other stuff
alias cryosparc="ssh -X -f -N -T -L 11312:localhost:39000 posert@troll.ohsu.edu"
alias trollttp="ssh -X -f -N -T -L 8080:localhost:80 posert@troll.ohsu.edu"
alias hotspur="ssh -X posert@hotspur.ohsu.edu"
alias falstaff="ssh -X posert@falstaff.ohsu.edu"
alias hen4="ssh -X posert@henry4.ohsu.edu"
alias hen5="ssh -X posert@henry5.ohsu.edu"
alias juliet="ssh -X posert@juliet.ohsu.edu"
alias exahead="ssh -X posert@exahead1.ohsu.edu"
alias boreal="ssh -X pose732@boreal.emsl.pnl.gov"
alias askel="ssh -Y posert@askeladden.ohsu.edu"
alias laskel="ssh -Y local@askeladden.ohsu.edu"
alias exa1="ssh -Y posert@exahead1.ohsu.edu"
alias exa2="ssh -Y posert@exahead2.ohsu.edu"
alias exacloud='exa1'
alias raspi="ssh rich@192.168.0.201"

cds () {
    if [ $# -eq 0 ]; then
        cd ~/Documents/scripts
    else
        cd ~/Documents/scripts/$1*
    fi
}

cdd () {
    if [ $# -eq 0 ]; then
        cd ~/Documents
    else
        cd ~/Documents/$1*
    fi
}

export PATH="/opt/homebrew/opt/llvm/bin:$PATH"
export PATH="$PATH:$HOME/.scripts"
export LDFLAGS="-L/opt/homebrew/opt/llvm/lib"
export CPPFLAGS="-I/opt/homebrew/opt/llvm/include"

# ----------------------------------
# cryoEM computing aliases

putboreal () {
	scp $1 pose732@boreal.emsl.pnl.gov:/dtemp/emslp160003/$2
}

alias getex="getrel posert@exahead1.ohsu.edu /home/exacloud/gscratch/BaconguisLab/posert"

putex () {
	scp $1 posert@exahead1.ohsu.edu:/home/exacloud/gscratch/BaconguisLab/posert/$2 
}

alias getask="getrel posert@askeladden.ohsu.edu /askeladden/scratch/posert"

putask () {
        scp $1 posert@askeladden.ohsu.edu:/askeladden/scratch/posert/$2
}

putmask () {
	scp $1 posert@troll.ohsu.edu:~/masks/
}

include ~/.$(hostname)zc

# sync model building stuff

modeld () {
	rsync -avzP posert@troll.ohsu.edu:/home/users/posert/model-building/ ~/model-building
}

modelu () {
	rsync -avzP ~/model-building/ posert@troll.ohsu.edu:/home/users/posert/model-building
}

# ----------------------------------------------
# WSL stuf
#
# has to be different if connected over OHSU VPN
vpndisp () {
        ip addr show eth2 &>/dev/null
        if [ $? -eq 0 ]; then
                DISPLAY=$(ip addr show eth2 | grep inet\ | awk '{gsub("/.*", "", $2)}; {print $2}'):0
        fi
}

# coloration and ls aliases

if which gls>/dev/null
then
	alias ls="gls -F --color=auto"
else
	alias ls="ls -F --color=auto"
fi

alias la="ls -a"
alias ll="ls -alh"
alias grep="grep --color=auto"
export LS_COLORS="$LS_COLORS:ow=1;34;107:tw=1;34;107"


export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
